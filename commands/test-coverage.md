---
description: 分析测试覆盖率并生成缺失的测试。
---

# /test-coverage 命令

分析测试覆盖率并生成缺失的测试：

## 执行步骤

1. 运行带覆盖率的测试：`pytest --cov` 或 `npm test --coverage`

2. 分析覆盖率报告

3. 识别低于 80% 覆盖率阈值的文件

4. 对每个覆盖率不足的文件：
   - 分析未测试的代码路径
   - 为函数生成单元测试
   - 为 API 生成集成测试
   - 为关键流程生成 E2E 测试

5. 验证新测试通过

6. 显示前后覆盖率指标

7. 确保项目达到 80%+ 整体覆盖率

## 关注点

- 正常路径场景
- 错误处理
- 边界情况（null、undefined、空）
- 边界条件

## 覆盖率目标

| 类型 | 目标 |
|------|------|
| 行覆盖率 | 80%+ |
| 分支覆盖率 | 80%+ |
| 函数覆盖率 | 80%+ |
| 关键路径 | 100% |
